{
    "base_image": "jupyter/r-notebook:70178b8e48d7",
    "chart_obj": {
        "hovered": {},
        "links": {},
        "nodes": {
            "bfe2908": {
                "id": "bfe2908",
                "ports": {
                    "diameteroffieldofview": {
                        "id": "diameteroffieldofview",
                        "properties": {
                            "color": "#c58794"
                        },
                        "type": "right"
                    },
                    "diameterofsedimentationchamber": {
                        "id": "diameterofsedimentationchamber",
                        "properties": {
                            "color": "#2d6e86"
                        },
                        "type": "right"
                    },
                    "dilutionfactor": {
                        "id": "dilutionfactor",
                        "properties": {
                            "color": "#c587b4"
                        },
                        "type": "right"
                    },
                    "index": {
                        "id": "index",
                        "properties": {
                            "color": "#79d2c6"
                        },
                        "type": "right"
                    },
                    "numberofcountedfields": {
                        "id": "numberofcountedfields",
                        "properties": {
                            "color": "#6cd6e0"
                        },
                        "type": "right"
                    },
                    "numberoftransects": {
                        "id": "numberoftransects",
                        "properties": {
                            "color": "#2d4786"
                        },
                        "type": "right"
                    },
                    "output_dfmerged": {
                        "id": "output_dfmerged",
                        "properties": {
                            "color": "#1f8c93"
                        },
                        "type": "right"
                    },
                    "settlingvolume": {
                        "id": "settlingvolume",
                        "properties": {
                            "color": "#6ce0ca"
                        },
                        "type": "right"
                    },
                    "transectcounting": {
                        "id": "transectcounting",
                        "properties": {
                            "color": "#a179d2"
                        },
                        "type": "right"
                    }
                },
                "position": {
                    "x": 35,
                    "y": 15
                },
                "properties": {
                    "deps": [],
                    "inputs": [],
                    "og_node_id": "bfe2908",
                    "outputs": [
                        "settlingvolume",
                        "output_dfmerged",
                        "numberoftransects",
                        "diameteroffieldofview",
                        "transectcounting",
                        "numberofcountedfields",
                        "index",
                        "dilutionfactor",
                        "diameterofsedimentationchamber"
                    ],
                    "params": [],
                    "title": "input parameters-dev-user-name-at-domain-com",
                    "vars": [
                        {
                            "color": "#6ce0ca",
                            "direction": "output",
                            "name": "settlingvolume",
                            "type": "datatype"
                        },
                        {
                            "color": "#1f8c93",
                            "direction": "output",
                            "name": "output_dfmerged",
                            "type": "datatype"
                        },
                        {
                            "color": "#2d4786",
                            "direction": "output",
                            "name": "numberoftransects",
                            "type": "datatype"
                        },
                        {
                            "color": "#c58794",
                            "direction": "output",
                            "name": "diameteroffieldofview",
                            "type": "datatype"
                        },
                        {
                            "color": "#a179d2",
                            "direction": "output",
                            "name": "transectcounting",
                            "type": "datatype"
                        },
                        {
                            "color": "#6cd6e0",
                            "direction": "output",
                            "name": "numberofcountedfields",
                            "type": "datatype"
                        },
                        {
                            "color": "#79d2c6",
                            "direction": "output",
                            "name": "index",
                            "type": "datatype"
                        },
                        {
                            "color": "#c587b4",
                            "direction": "output",
                            "name": "dilutionfactor",
                            "type": "datatype"
                        },
                        {
                            "color": "#2d6e86",
                            "direction": "output",
                            "name": "diameterofsedimentationchamber",
                            "type": "datatype"
                        }
                    ]
                },
                "type": "input-output"
            }
        },
        "offset": {
            "x": 0,
            "y": 0
        },
        "scale": 1,
        "selected": {}
    },
    "confs": {},
    "container_source": "",
    "dependencies": [],
    "inputs": [],
    "kernel": "IRkernel",
    "node_id": "bfe2908",
    "original_source": "install.packages(\"dplyr\",repos = \"http://cran.us.r-project.org\")\ndplyr = ''\nlibrary(dplyr)\n\n\n\n\n\nif (param_density==1) {param_CountingStrategy <- 'density0'}\n\ndf.datain=read.csv(param_datain,stringsAsFactors=FALSE,sep = \";\", dec = \".\")\nmeasurementremarks = tolower(df.datain$measurementremarks) # eliminate capital letters\ndf.datain$measurementremarks <- tolower(df.datain$measurementremarks) # eliminate capital letters\nindex = c(1:nrow(df.datain))\ndf.datain$index <- c(1:nrow(df.datain)) # needed to restore rows order later\n\ndf.operator<-read.csv('input/2_FILEinformativo_OPERATORE.csv',stringsAsFactors=FALSE,sep = \";\", dec = \".\") ## load internal database \ndf.operator[df.operator==('no')]<-NA\ndf.operator[df.operator==('see note')]<-NA\n\ndf.merged <- merge(x = df.datain, y = df.operator, by = c(\"scientificname\",\"measurementremarks\"), all.x = TRUE)\n\ndiameterofsedimentationchamber = 'diameterofsedimentationchamber'\ndiameteroffieldofview = 'diameteroffieldofview'\ntransectcounting = 'transectcounting'\nnumberofcountedfields = 'numberofcountedfields'\nnumberoftransects = 'numberoftransects'\nsettlingvolume = 'settlingvolume'\ndilutionfactor = 'dilutionfactor'\n\nif(!'diameterofsedimentationchamber'%in%names(df.merged))df.merged$diameterofsedimentationchamber=NA\nif(!'diameteroffieldofview'%in%names(df.merged))df.merged$diameteroffieldofview=NA\nif(!'transectcounting'%in%names(df.merged))df.merged$transectcounting=NA\nif(!'numberofcountedfields'%in%names(df.merged))df.merged$numberofcountedfields=df.merged$transectcounting\nif(!'numberoftransects'%in%names(df.merged))df.merged$numberoftransects==df.merged$transectcounting\nif(!'settlingvolume'%in%names(df.merged))df.merged$settlingvolume=NA\nif(!'dilutionfactor'%in%names(df.merged))df.merged$dilutionfactor=1\n\noutput_dfmerged = 'output/dfmerged.csv'\noutput_dfdatain = 'output/dfdatain.csv'\nwrite.table(df.merged,paste(output_dfmerged,sep=''),row.names=FALSE,sep = \";\",dec = \".\",quote=FALSE)\nwrite.table(df.datain,paste(output_dfdatain,sep=''),row.names=FALSE,sep = \";\",dec = \".\",quote=FALSE) ",
    "outputs": [
        "settlingvolume",
        "output_dfmerged",
        "numberoftransects",
        "diameteroffieldofview",
        "transectcounting",
        "numberofcountedfields",
        "index",
        "dilutionfactor",
        "diameterofsedimentationchamber"
    ],
    "params": [],
    "task_name": "input-parameters-dev-user-name-at-domain-com",
    "title": "input parameters-dev-user-name-at-domain-com",
    "types": {
        "diameteroffieldofview": "str",
        "diameterofsedimentationchamber": "str",
        "dilutionfactor": "str",
        "index": "str",
        "numberofcountedfields": "str",
        "numberoftransects": "str",
        "output_dfmerged": "str",
        "settlingvolume": "str",
        "transectcounting": "str"
    },
    "example_inputs": ["--id", "0"]
}
