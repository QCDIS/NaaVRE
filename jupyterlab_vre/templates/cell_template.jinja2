{% if deps|length >0 %}
{% for d in deps %}
{{ d }}
{% endfor %}
{% endif %}
{% if cell.inputs|length > 0 or cell.params|length > 0%}
import argparse
arg_parser = argparse.ArgumentParser()

{% for in_var in cell.inputs|sort %}
{% if types[in_var] != 'point_cloud' %}
arg_parser.add_argument('--{{ in_var }}', action='store', type='{{ types[in_var] }}', required='True', dest='{{ in_var }}')
{% endif %}
{% endfor %}

{% for param in cell.params|sort %}
{% if types[param] != 'point_cloud' %}
arg_parser.add_argument('--{{ param }}', action='store', type='{{ types[param] }}', required='True', dest='{{ param }}')
{% endif %}
{% endfor %}

args = arg_parser.parse_args()
{% for in_var in cell.inputs|sort %}
{% if types[in_var] != 'point_cloud' %}
{{ in_var }} = args.{{ in_var }}
{% else %}
from laserchicken import load
{{ in_var }} = load('/tmp/{{ in_var }}.ply')
{% endif %}
{% endfor %}

{% for param in cell.params|sort %}
{{ param }} = args.{{ param }}
{% endfor %}
{% endif %}

{% for c in confs %}
{{ c }}
{% endfor %}

{{ cell.original_source }}

{% if cell.outputs|length > 0 %}
{% for out_var in cell.outputs|sort %}
{% if types[out_var] != 'point_cloud' %}
print({{ out_var }})
{% else %}
from laserchicken import export
export({{ out_var }}, '/tmp/{{ out_var }}.ply')
{% endif %}
{% endfor %}
{% endif %}